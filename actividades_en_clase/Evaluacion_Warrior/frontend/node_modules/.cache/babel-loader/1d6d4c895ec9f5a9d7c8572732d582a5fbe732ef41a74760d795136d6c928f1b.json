{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport api from '@/services/api';\nexport default {\n  mounted() {\n    document.title = \"Guerreros | TaskMaster Pro\";\n    this.getWarriors();\n  },\n  data() {\n    return {\n      searchQuery: '',\n      warriors: []\n    };\n  },\n  computed: {\n    filteredUser() {\n      return this.warriors.filter(warrior => warrior.name.toLowerCase().includes(this.searchQuery.toLowerCase()));\n    }\n  },\n  methods: {\n    async getWarriors() {\n      try {\n        const response = await api.get('/warrior');\n        this.warriors = response.data.data;\n        console.log(response.data);\n      } catch (error) {\n        if (error.response && error.response.data) {\n          const serverErrors = error.response.data;\n          if (serverErrors.message === 'Error Get') {\n            console.log(serverErrors.message);\n            alert(serverErrors.message);\n          } else {\n            console.log('Ocurrio un error inesperado del lado del servidor: ', serverErrors);\n            alert('Ocurrio un error inesperado del lado del servidor, revisa la consola para obtener más detalles');\n          }\n        }\n      }\n    },\n    // Redirige a la página de crear usuario\n    redirectToRecoverWarrior() {\n      console.log('Redirigiendo a crear-usuario');\n      this.$router.push('/crear-guerrero');\n    },\n    // Redirige a la página de editar usuario\n    redirectToEditWarrior(warriorID) {\n      this.$router.push({\n        name: 'EditarGuerrero',\n        params: {\n          warriorID: warriorID\n        }\n      });\n    },\n    async deleteWarrior(warriorID) {\n      try {\n        if (confirm('¿Estás seguro que deseas eliminar el usuario?')) {\n          const response = await api.delete(`/user/${userId}}`);\n          this.users = this.users.filter(user => user.id !== userId);\n          console.log(response.data.message);\n          alert(response.data.message);\n        }\n      } catch (error) {\n        if (error.response && error.response.data) {\n          const serverErrors = error.response.data;\n          if (serverErrors.message === 'User not exists') {\n            console.log(serverErrors.message);\n            alert(serverErrors.message);\n          } else if (serverErrors.message === 'Usuario no eliminado') {\n            console.log(serverErrors.message);\n            alert(serverErrors.message);\n          } else if (serverErrors.message === 'Error deleting user: ') {\n            console.log('Ocurrio un error inesperado del lado del servidor: ', serverErrors);\n            alert('Ocurrio un error inesperado del lado del servidor, revisa la consola para obtener más detalles');\n          } else {\n            console.log(error.response.data);\n            alert(error.response.data.mensaje);\n          }\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["api","mounted","document","title","getWarriors","data","searchQuery","warriors","computed","filteredUser","filter","warrior","name","toLowerCase","includes","methods","response","get","console","log","error","serverErrors","message","alert","redirectToRecoverWarrior","$router","push","redirectToEditWarrior","warriorID","params","deleteWarrior","confirm","delete","userId","users","user","id","mensaje"],"sources":["C:\\xampp\\htdocs\\ADSO_2919581_Johan_Garcia\\actividades_en_clase\\Evaluacion_Warrior\\frontend\\src\\components\\administrarGuerreros.vue"],"sourcesContent":["<template>\r\n  <div class=\"bg-custom\">\r\n    <!-- Navbar for mobile -->\r\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light d-lg-none\">\r\n      <div class=\"container-fluid\">\r\n        <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasMenu\"\r\n          aria-controls=\"offcanvasMenu\">\r\n          <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <a class=\"navbar-brand\" href=\"#\">Menú</a>\r\n      </div>\r\n    </nav>\r\n\r\n    <!-- Offcanvas for mobile menu -->\r\n    <div class=\"offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasMenu\" aria-labelledby=\"offcanvasMenuLabel\">\r\n      <div class=\"offcanvas-header\">\r\n        <h5 class=\"offcanvas-title\" id=\"offcanvasMenuLabel\">Menú</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"offcanvas-body\">\r\n        <ul class=\"nav flex-column\">\r\n          <!-- Usamos router-link para redirigir en Vue -->\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/perfil-completo\" class=\"nav-link mi-link\">\r\n              <i class=\"fa-solid fa-home me-1\"></i> Inicio\r\n            </router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/administrar-usuarios\" class=\"nav-link mi-link\">\r\n              <i class=\"fa-solid fa-user-cog me-1\"></i> Guerreros\r\n            </router-link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <!-- Sidebar for larger screens -->\r\n        <div class=\"col-md-3 custom-col d-none d-lg-block\">\r\n          <img src=\"../assets/img/logos/logotipo.png\" class=\"logo-inicio\" width=\"300\" />\r\n          <ul class=\"nav flex-column\">\r\n            <li class=\"nav-item\">\r\n              <router-link to=\"/perfil-completo\" class=\"nav-link mi-link\">\r\n                <i class=\"fa-solid fa-home me-1\"></i> Inicio\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <router-link to=\"/administrar-usuarios\" class=\"nav-link mi-link\">\r\n                <i class=\"fa-solid fa-user-cog me-1\"></i> Guerreros\r\n              </router-link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div class=\"col custom-col-main\">\r\n          <header>\r\n            <div class=\"header d-flex justify-content-end align-items-center p-3\">\r\n              <div class=\"d-flex align-items-center\">\r\n                <span>Administrador</span>\r\n                <a href=\"perfil.html\" class=\"ms-3\">\r\n                  <img src=\"../assets/img/mariposa34.jpg\" alt=\"Perfil\" class=\"rounded-circle\" width=\"40\" />\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </header>\r\n\r\n          <section class=\"container-fluid mt-4\">\r\n            <div class=\"d-flex justify-content-between align-items-center mb-3\">\r\n              <div class=\"d-flex align-items-center\">\r\n                <h2>Guerreros</h2>\r\n                <!-- Usamos router-link para redirigir -->\r\n                <button class=\"btn btn-success ms-3\" @click=\"redirectToRecoverWarrior\"><i\r\n                    class=\"fa-solid fa-plus me-1\"></i></button>\r\n              </div>\r\n              <div class=\"d-flex align-items-center\">\r\n                <input v-model=\"searchQuery\" type=\"text\" class=\"form-control\" placeholder=\"Buscar Guerreros\">\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Table responsive container -->\r\n            <div class=\"table-responsive\">\r\n              <table class=\"table table-striped\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>warriorID</th>\r\n                    <th>Name</th>\r\n                    <th>Level</th>\r\n                    <th>Race Type</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"(warrior) in filteredUser\" :key=\"warrior.warriorID\">\r\n                    <td>{{ warrior.warriorID }}</td>\r\n                    <td>{{ warrior.name }}</td>\r\n                    <td>{{ warrior.level }}</td>\r\n                    <td>{{ warrior.raceTypeID }}</td>\r\n                    <td>\r\n                      <!-- Usamos el método redirectToEditUser para redirigir a editar usuario -->\r\n                      <button class=\"btn btn-sm btn-secondary\" @click=\"redirectToEditWarrior(warrior.warriorID)\"><i\r\n                          class=\"fa-solid fa-pen\"></i></button>\r\n                      <button class=\"btn btn-sm btn-danger btn-eliminar\" @click=\"deleteWarrior(warrior.warriorID)\"><i class=\"fa-solid fa-trash\"></i></button>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/services/api';\r\nexport default {\r\n  mounted() {\r\n    document.title = \"Guerreros | TaskMaster Pro\";\r\n    this.getWarriors();\r\n  },\r\n  data() {\r\n    return {\r\n      searchQuery: '',\r\n      warriors: []\r\n    };\r\n  },\r\n  computed: {\r\n    filteredUser() {\r\n      return this.warriors.filter(warrior => warrior.name.toLowerCase().includes(this.searchQuery.toLowerCase()));\r\n    }\r\n  },\r\n  methods: {\r\n    async getWarriors() {\r\n      try {\r\n        const response = await api.get('/warrior');\r\n        this.warriors = response.data.data;\r\n        console.log(response.data);\r\n      } catch (error) {\r\n        if (error.response && error.response.data) {\r\n          const serverErrors = error.response.data;\r\n          if (serverErrors.message === 'Error Get') {\r\n            console.log(serverErrors.message);\r\n            alert(serverErrors.message);\r\n          } else {\r\n            console.log('Ocurrio un error inesperado del lado del servidor: ', serverErrors);\r\n            alert('Ocurrio un error inesperado del lado del servidor, revisa la consola para obtener más detalles');\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    // Redirige a la página de crear usuario\r\n    redirectToRecoverWarrior() {\r\n      console.log('Redirigiendo a crear-usuario');\r\n      this.$router.push('/crear-guerrero');\r\n    },\r\n    // Redirige a la página de editar usuario\r\n    redirectToEditWarrior(warriorID) {\r\n      this.$router.push({ name: 'EditarGuerrero', params: { warriorID: warriorID }});\r\n    },\r\n    async deleteWarrior(warriorID) {\r\n      try {\r\n        if (confirm('¿Estás seguro que deseas eliminar el usuario?')) {\r\n        const response =  await api.delete(`/user/${userId}}`);\r\n        this.users = this.users.filter(user => user.id !== userId);\r\n        console.log(response.data.message);\r\n        alert(response.data.message);\r\n      }\r\n      } catch (error) {\r\n        if(error.response && error.response.data){\r\n          const serverErrors = error.response.data;\r\n          if(serverErrors.message === 'User not exists'){\r\n            console.log(serverErrors.message);\r\n            alert(serverErrors.message);\r\n          } else if (serverErrors.message === 'Usuario no eliminado'){\r\n            console.log(serverErrors.message);\r\n            alert(serverErrors.message);\r\n          } else if(serverErrors.message === 'Error deleting user: '){\r\n            console.log('Ocurrio un error inesperado del lado del servidor: ', serverErrors);\r\n            alert('Ocurrio un error inesperado del lado del servidor, revisa la consola para obtener más detalles');\r\n          } else{\r\n            console.log(error.response.data);\r\n            alert(error.response.data.mensaje);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}